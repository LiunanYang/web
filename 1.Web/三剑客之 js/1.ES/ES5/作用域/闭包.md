# 闭包
闭包就是能够读取其他函数内部变量的函数

### 闭包的结构
- 外部函数：包含变量和内部函数
- 内部函数：可以访问外部函数的变量，当外部函数返回内部函数时，就创建了一个闭包

### 特点
- 函数嵌套：嵌套在函数中的内部函数
- 变量访问：在内层函数中，访问到外层函数的变量
- 词法环境：保存了创建它的函数（外部函数）的词法环境，包括变量和函数声明
- 生命周期：只要闭包存在，即使外部函数执行完毕，闭包仍然可以访问外部函数的变量


### 注意点：
- 闭包中的变量会占内存，如果不及时清理（比如移除对闭包的引用），可能造成内存泄漏
- 闭包返回函数不要引用任何在后续会发生变化的变量，可能会保存 闭包的引用，增加内存使用

### 使用场景/作用
- 封装变量：在外层函数内创建变量，闭包可以访问和操作该变量，但是函数外部访问不到
- 模块化：创建私有变量和方法，避免全局命名冲突和变量污染，实现模块化
- 定时器和事件处理：通过闭包可以保存局部状态，确保回调函数执行时，能够访问到正确的外部变量
- 循环中的异步操作：确保异步操作可以获取到正确的循环变量值
