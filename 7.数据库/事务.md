# ä»€ä¹ˆæ˜¯äº‹åŠ¡
äº‹åŠ¡æ˜¯ä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨æ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œã€‚

# äº‹åŠ¡ç‰¹æ€§

- **åŽŸå­æ€§**ï¼šæŒ‡äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥
- **ä¸€è‡´æ€§**ï¼šäº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»Žä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€
  - Aå‘Bè½¬è´¦ï¼Œå‡è®¾è½¬è´¦ä¹‹å‰è¿™ä¸¤ä¸ªç”¨æˆ·çš„é’±åŠ èµ·æ¥æ€»å…±æ˜¯200ï¼Œé‚£ä¹ˆAå‘Bè½¬è´¦ä¹‹åŽï¼Œä¸ç®¡ä¸¤ä¸ªè´¦æˆ·ä¸­æ€Žä¹ˆæ ·ï¼ŒAç”¨æˆ·çš„é’±å’ŒBç”¨æˆ·çš„é’±åŠ èµ·æ¥çš„æ€»é¢è¿˜æ˜¯200ã€‚

- **éš”ç¦»æ€§**ï¼šå¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ•°æ®æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚
- **æŒä¹…æ€§**ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤ï¼Œå¯¹æ•°æ®åº“çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„

## äº‹åŠ¡ä¸è€ƒè™‘éš”ç¦»æ€§å¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜
1. **è„è¯»**ï¼šæŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„äº‹åŠ¡ã€‚

ðŸŒ°ï¼šå‡è®¾Aå‘Bè½¬100å…ƒï¼Œå¯¹åº”sqlè¯­å¥ï¼š
```
1. update account set money = money+100 where name = "B"
1. update account set money = money-100 where name = "A"
```
å½“ç¬¬ä¸€æ¡sqlæ‰§è¡Œå®Œï¼Œç¬¬äºŒæ¡è¿˜æ²¡æ‰§è¡Œ(A æ²¡æäº¤)ï¼Œå¦‚æžœæ­¤æ—¶BæŸ¥è¯¢è‡ªå·±çš„è´¦æˆ·ï¼Œå‘çŽ°è‡ªå·±å¤šäº†100å…ƒï¼Œå¦‚æžœAç­‰Bèµ°äº†åŽå†å›žæ»šï¼ŒBå°±ä¼šæŸå¤±100å…ƒã€‚

2. **ä¸å¯é‡å¤è¯»**ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å†…è¯»å–è¡¨çš„æŸä¸€è¡Œæ•°æ®ï¼Œå¤šæ¬¡è¯»å–ç»“æžœä¸åŒã€‚

ðŸŒ°ï¼šæ¯”å¦‚é“¶è¡Œæƒ³æŸ¥è¯¢Aè´¦æˆ·çš„ä½™é¢ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢è´¦æˆ·ä¸º200å…ƒï¼Œæ­¤æ—¶Aå‘è´¦æˆ·å†…å­˜äº†100å…ƒå¹¶æäº¤äº†ï¼Œé“¶è¡Œåˆè¿›è¡Œäº†ä¸€æ¬¡æŸ¥è¯¢ï¼Œæ­¤æ—¶Aè´¦æˆ·ä¸º300å…ƒï¼Œé“¶è¡Œä¸¤æ¬¡æŸ¥è¯¢çš„ç»“æžœå°±ä¸ä¸€è‡´ã€‚

3. **è™šè¯»(å¹»è¯»)**ï¼šä¸€ä¸ªäº‹åŠ¡å†…è¯»å–åˆ°äº†åˆ«çš„äº‹åŠ¡å†…æ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åŽè¯»å–ä¸ä¸€è‡´ã€‚

ðŸŒ°ï¼šAå­˜æ¬¾100å…ƒæœªæäº¤ï¼Œè¿™æ—¶é“¶è¡ŒåšæŠ¥è¡¨ç»Ÿè®¡ account è¡¨ä¸­æ‰€æœ‰ç”¨æˆ·çš„æ€»é¢ä¸º 500å…ƒï¼Œç„¶åŽA æäº¤äº†ï¼Œè¿™æ—¶é“¶è¡Œå†ç»Ÿè®¡å‘çŽ°è´¦æˆ·ä¸º600ã€‚


# æ“ä½œäº‹åŠ¡å‘½ä»¤

## å¼€å¯äº‹åŠ¡
> start transaction

## æäº¤äº‹åŠ¡
> commit

## å›žæ»šäº‹åŠ¡
> rollback

# ä¸ºä»€ä¹ˆä½¿ç”¨äº‹åŠ¡

