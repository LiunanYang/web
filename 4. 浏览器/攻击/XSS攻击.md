# xss
cross-site-scripting 跨站脚本攻击，是代码注入攻击。

## 攻击类型
### 1.非持久型XSS（反射型）
- 攻击者向用户发送包含恶意代码的 url 链接
- 用户点击链接，恶意代码发送到目标服务器，并通过服务器的响应返回给用户浏览器
- 浏览器解析响应时，执行恶意代码

### 2.持久型XSS（存储型）
- 攻击者将恶意代码上传或存储到服务器上，比如评论、用户资料
- 当浏览器请求数据时，恶意代码被触发并执行

### 3.DOM型XSS
- 发生在客户端的攻击方式，不需要经过服务器的解析，更难以防范
- 利用浏览器对 DOM 的解析和渲染，修改 DOM 元素，注入恶意代码

具体攻击方式
- 输入框恶意注入
- 通过 js 对 DOM 进行修改

## 防御手段
### 1.输入合法性检验
检查是否符合指定格式

### 2.转义字符
转义特殊字符，避免浏览器将这些字符误解为标签

### 3.CSP (Content-Security-Policy)
服务端设置 HTTP 响应头CSP，采用白名单制度，告诉客户端哪些外部资源可以加载和执行，拦截来自第三方资源的恶意脚本

### 4.限制cookie
- 设置 Secure 属性，限制 Cookie 只能在 HTTPS 连接下使用
- 设置 http-only 确保cookie不能通过 js 代码访问
- 设置 cookie 的 Expires 或 Max-Age 属性，限制cookie的生命周期